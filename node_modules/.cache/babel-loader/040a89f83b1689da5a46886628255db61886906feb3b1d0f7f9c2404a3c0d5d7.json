{"ast":null,"code":"import React,{useEffect,useState}from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import Link from'@mui/material/Link';import{Grid,Alert}from'@mui/material';import Box from'@mui/material/Box';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import StorageIcon from'@mui/icons-material/Storage';import{NavLink,useNavigate}from'react-router-dom';import{useLoginUserMutation}from'../../services/userAuthApi';import{storeToken}from'../../services/LocalStorageService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const defaultTheme=createTheme();const Login=()=>{const[formData,setFormData]=useState({username:'',password:''});const[error,setError]=useState({status:false,msg:'',type:''});const navigate=useNavigate();const[loginUserMutation,{isLoading}]=useLoginUserMutation();const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async event=>{event.preventDefault();const{username,password}=formData;let newError={status:false,msg:'',type:''};if(!username||!password){newError={status:true,msg:'All Fields are Required',type:'error'};}else{const actualData={username:username,password:password};// console.log(actualData);\nconst res=await loginUserMutation(actualData);console.log(res);if(res.data.httpStatus===202){storeToken(res.data.data.token);navigate('/dashboard');}else{newError={status:true,msg:res.data.message,type:'error'};}}setError(newError);};return/*#__PURE__*/_jsx(ThemeProvider,{theme:defaultTheme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(StorageIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"SuperShop -Inventory Management\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"username\",name:\"username\",autoComplete:\"username\",value:formData.username,onChange:handleInputChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleInputChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign In\"}),error.status?/*#__PURE__*/_jsx(Alert,{severity:error.type,sx:{mt:3},children:error.msg}):'']})]})]})});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Alert","Box","Typography","Container","createTheme","ThemeProvider","StorageIcon","NavLink","useNavigate","useLoginUserMutation","storeToken","jsx","_jsx","jsxs","_jsxs","defaultTheme","Login","formData","setFormData","username","password","error","setError","status","msg","type","navigate","loginUserMutation","isLoading","handleInputChange","e","name","value","target","handleSubmit","event","preventDefault","newError","actualData","res","console","log","data","httpStatus","token","message","theme","children","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","variant","onSubmit","noValidate","mt","margin","required","fullWidth","id","label","autoComplete","onChange","mb","severity"],"sources":["/media/arafath/New Volume/Final Year Project/inventory-frontend/src/component/login/Login.js"],"sourcesContent":["import  React,{ useEffect, useState }  from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Link from '@mui/material/Link';\nimport{ Grid,Alert }from '@mui/material';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { useLoginUserMutation } from '../../services/userAuthApi';\nimport { storeToken } from '../../services/LocalStorageService';\n\n\nconst defaultTheme = createTheme();\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [error, setError] = useState({\n    status: false,\n    msg: '',\n    type: '',\n  });\n\n  const navigate = useNavigate();\n  const [loginUserMutation,{isLoading}] = useLoginUserMutation();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const {  username, password } = formData;\n    let newError = { status: false, msg: '', type: '' };\n\n    if ( !username || !password ) {\n      newError = { status: true, msg: 'All Fields are Required', type: 'error' };\n    }  else {\n      const actualData = {\n        \n        username: username,\n        password: password,\n      \n      };\n\n      // console.log(actualData);\n      const res = await loginUserMutation(actualData);\n      console.log(res);\n      if (res.data.httpStatus === 202) {\n        storeToken(res.data.data.token)\n        navigate('/dashboard');\n      } else {\n        newError = { status: true, msg: res.data.message, type: 'error' };\n      }\n    }\n\n    setError(newError);\n  };\n\n\n\n\n\n  return (\n    <ThemeProvider theme={defaultTheme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <StorageIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            SuperShop -Inventory Management \n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              value={formData.username}\n              onChange={handleInputChange}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              value={formData.password}\n              onChange={handleInputChange}\n            />\n    \n            \n           \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign In\n            </Button>\n        \n\n     \n            {error.status ? <Alert severity={error.type} sx={{ mt: 3 }}>{error.msg}</Alert> : ''}\n          </Box>\n        </Box>\n        \n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}