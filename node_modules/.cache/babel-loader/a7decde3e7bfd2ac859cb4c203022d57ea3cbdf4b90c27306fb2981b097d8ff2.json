{"ast":null,"code":"import React from\"react\";import Box from\"@mui/material/Box\";import Drawer from\"@mui/material/Drawer\";import AppBar from\"@mui/material/AppBar\";import CssBaseline from\"@mui/material/CssBaseline\";import Toolbar from\"@mui/material/Toolbar\";import List from\"@mui/material/List\";import Typography from\"@mui/material/Typography\";import Divider from\"@mui/material/Divider\";import ListItem from\"@mui/material/ListItem\";import ListItemButton from\"@mui/material/ListItemButton\";import ListItemIcon from\"@mui/material/ListItemIcon\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{TextField,Button,Alert}from\"@mui/material\";import{useChangeUserPasswordMutation}from'../../services/userAuthApi';import{getToken}from\"../../services/LocalStorageService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const drawerWidth=240;const Settings=()=>{const[formData,setFormData]=useState({password:'',confirmPassword:''});const[error,setError]=useState({status:false,msg:'',type:''});const token=getToken('token');const navigate=useNavigate();const[changeUserPassword,{isLoading}]=useChangeUserPasswordMutation();const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async event=>{event.preventDefault();const{password,confirmPassword}=formData;let newError={status:false,msg:'',type:''};if(!password||!confirmPassword){newError={status:true,msg:'All Fields are Required',type:'error'};}else if(password!==confirmPassword){newError={status:true,msg:\"Password and Confirm Password Don't Match\",type:'error'};}else{const actualData={password:password,password_confirmation:confirmPassword};// console.log(actualData);\nconst res=await changeUserPassword({actualData,token});console.log(res);if(res.data.httpStatus===202){navigate('/dashboard');}else{newError={status:true,msg:res.data.message,type:'error'};}}setError(newError);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\"},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{zIndex:theme=>theme.zIndex.drawer+1},children:/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",children:\"Shop Management\"})})}),/*#__PURE__*/_jsxs(Drawer,{variant:\"permanent\",sx:{width:drawerWidth,flexShrink:0,[\"& .MuiDrawer-paper\"]:{width:drawerWidth,boxSizing:\"border-box\"}},children:[/*#__PURE__*/_jsx(Toolbar,{}),/*#__PURE__*/_jsx(Box,{sx:{overflow:\"auto\"},children:/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsx(ListItemButton,{children:/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none'},to:\"/dashboard\",children:\"Dashboard\"})})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsx(ListItemButton,{children:/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Link,{to:\"/setting\",style:{textDecoration:'none'},children:\"Change Password\"})})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Divider,{})]})})]}),/*#__PURE__*/_jsxs(Box,{justifyContent:\"center\",component:\"main\",sx:{flexGrow:1,p:3},children:[/*#__PURE__*/_jsx(Toolbar,{}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},id:\"password-change\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Change Your Password\"}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleInputChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"confirmPassword\",label:\"Confirm Password\",type:\"password\",id:\"confirmPassword\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleInputChange}),/*#__PURE__*/_jsx(Typography,{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",sx:{mt:1,mb:2,px:5},variant:\"contained\",children:\"Confirm\"}),error.status?/*#__PURE__*/_jsx(Alert,{severity:error.type,children:error.msg}):'']})]})]})});};export default Settings;","map":{"version":3,"names":["React","Box","Drawer","AppBar","CssBaseline","Toolbar","List","Typography","Divider","ListItem","ListItemButton","ListItemIcon","useState","useEffect","Link","useNavigate","TextField","Button","Alert","useChangeUserPasswordMutation","getToken","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","drawerWidth","Settings","formData","setFormData","password","confirmPassword","error","setError","status","msg","type","token","navigate","changeUserPassword","isLoading","handleInputChange","e","name","value","target","handleSubmit","event","preventDefault","newError","actualData","password_confirmation","res","console","log","data","httpStatus","message","children","sx","display","position","zIndex","theme","drawer","variant","noWrap","component","width","flexShrink","boxSizing","overflow","disablePadding","style","textDecoration","to","justifyContent","flexGrow","p","onSubmit","noValidate","mt","id","margin","required","fullWidth","label","autoComplete","onChange","mb","px","severity"],"sources":["/media/arafath/New Volume/Final Year Project/inventory-frontend/src/component/user/Settings.js"],"sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Drawer from \"@mui/material/Drawer\";\nimport AppBar from \"@mui/material/AppBar\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport List from \"@mui/material/List\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { TextField, Button,Alert } from \"@mui/material\";\nimport { useChangeUserPasswordMutation } from '../../services/userAuthApi';\nimport { getToken } from \"../../services/LocalStorageService\";\nconst drawerWidth = 240;\nconst Settings = () => {\n  const [formData, setFormData] = useState({\n    password: '',\n    confirmPassword: '',\n  });\n\n  const [error, setError] = useState({\n    status: false,\n    msg: '',\n    type: '',\n  });\n  const token=getToken('token')\n  const navigate = useNavigate();\n  const [ changeUserPassword,{isLoading}] = useChangeUserPasswordMutation();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const { password, confirmPassword } = formData;\n    let newError = { status: false, msg: '', type: '' };\n\n    if ( !password || !confirmPassword) {\n      newError = { status: true, msg: 'All Fields are Required', type: 'error' };\n    } else if (password !== confirmPassword) {\n      newError = { status: true, msg: \"Password and Confirm Password Don't Match\", type: 'error' };\n    } else {\n      const actualData = {\n        \n        password: password,\n        password_confirmation:confirmPassword\n      };\n\n      // console.log(actualData);\n      const res = await changeUserPassword({actualData,token});\n      console.log(res);\n      if (res.data.httpStatus === 202) {\n        \n        navigate('/dashboard');\n      } else {\n        newError = { status: true, msg: res.data.message, type: 'error' };\n      }\n    }\n\n    setError(newError);\n  };\n\n\n\n  return (\n    <>\n      <Box sx={{ display: \"flex\" }}>\n        <CssBaseline />\n        <AppBar\n          position=\"fixed\"\n          sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        >\n          <Toolbar>\n            <Typography variant=\"h6\" noWrap component=\"div\">\n              Shop Management\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            width: drawerWidth,\n            flexShrink: 0,\n            [`& .MuiDrawer-paper`]: {\n              width: drawerWidth,\n              boxSizing: \"border-box\",\n            },\n          }}\n        >\n          <Toolbar />\n          <Box sx={{ overflow: \"auto\" }}>\n            <List>\n              <ListItem disablePadding>\n                <ListItemButton>\n                  <ListItemIcon>\n                    <Link style={{ textDecoration: 'none' }} to=\"/dashboard\">Dashboard</Link>\n                  </ListItemIcon>\n                </ListItemButton>\n              </ListItem>\n              <Divider />\n              <ListItem disablePadding>\n                <ListItemButton>\n                  <ListItemIcon>\n                    <Link to=\"/setting\" style={{ textDecoration: 'none' }}>Change Password</Link>\n                  </ListItemIcon>\n                </ListItemButton>\n              </ListItem>\n              <Divider />\n\n              {/* <ListItem disablePadding>\n                <ListItemButton>\n                  <ListItemIcon>\n                    <Link style={{ textDecoration: 'none' }} to=\"/support\">Support </Link>\n                  </ListItemIcon>\n                </ListItemButton>\n              </ListItem> */}\n              <Divider />\n\n  \n\n\n\n            </List>\n          </Box>\n        </Drawer>\n        <Box\n          justifyContent=\"center\"\n          component=\"main\"\n          sx={{ flexGrow: 1, p: 3 }}\n        >\n          <Toolbar />\n\n          {/* 2nd part content here */}\n          \n\n          <Box\n            component=\"form\"\n            onSubmit={handleSubmit}\n            noValidate\n            sx={{ mt: 1 }}\n            id=\"password-change\"\n          >\n            <Typography variant=\"h5\">\n              Change Your Password\n            </Typography>\n\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"new-password\"\n              value={formData.password}\n              onChange={handleInputChange}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              type=\"password\"\n              id=\"confirmPassword\"\n              autoComplete=\"new-password\"\n              value={formData.confirmPassword}\n              onChange={handleInputChange}\n            />\n            <Typography />\n\n            <Button\n              type=\"submit\"\n              sx={{ mt: 1, mb: 2, px: 5 }}\n              variant=\"contained\"\n            >\n              Confirm\n            </Button>\n\n            {error.status ? <Alert severity={error.type}>{error.msg}</Alert> : ''}\n          </Box>\n\n\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default Settings;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}