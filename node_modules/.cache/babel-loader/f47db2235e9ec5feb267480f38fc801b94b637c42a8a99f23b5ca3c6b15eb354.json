{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import Box from\"@mui/material/Box\";import{Typography}from\"@mui/material\";import axios from\"axios\";import Pagination from\"@mui/material/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const baseURL=process.env.REACT_APP_BACKEND_URL;const AdminMonitor=()=>{const[allUsers,setAllUsers]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const itemsPerPage=10;const handlePageChange=(event,value)=>{setCurrentPage(value);};const nextPage=()=>{setCurrentPage(currentPage+1);};const prevPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};useEffect(()=>{fetchUsers(currentPage,itemsPerPage);},[currentPage]);const fetchUsers=async(pageNumber,itemsPerPage)=>{try{const response=await axios.get(\"\".concat(baseURL,\"/admin/monitor?page=\").concat(pageNumber,\"&limit=\").concat(itemsPerPage));const{results,total_page}=response.data.data;setAllUsers(results);setTotalPages(total_page);}catch(error){console.error(\"Error fetching Receipt:\",error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",paddingLeft:\"10px\"// Adjust as needed\n},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Access Details\"})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",sx:{paddingTop:\"20px\"},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{\"@media (min-width: 600px)\":{minWidth:\"600px\"},\"@media (min-width: 800px)\":{minWidth:\"800px\"},\"@media (min-width: 1200px)\":{minWidth:\"1200px\"}// Add more media queries as needed\n},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"SLNo\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"User\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Version\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"OS\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Browser\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Platform\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Mobile\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Desktop\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Bot\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"LoginTime\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:allUsers&&allUsers.map((user,index)=>{let loginTime=new Date(user.loginTime);let formattedLoginTime=\"\".concat(loginTime.toLocaleDateString(),\" \").concat(loginTime.toLocaleTimeString());return/*#__PURE__*/_jsxs(TableRow,{// Make sure to include a unique key for each row\nsx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.username}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.version}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.os}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.browser}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.platform}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.isMobile?'Yes':'No'}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.isDesktop?'Yes':'No'}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:user.isBot}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:formattedLoginTime})]},index);})})]})})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"20vh\",children:/*#__PURE__*/_jsx(Pagination,{count:totalPages,page:currentPage,onChange:handlePageChange,variant:\"outlined\",shape:\"rounded\"})})]});};export default AdminMonitor;","map":{"version":3,"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","Typography","axios","Pagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","baseURL","process","env","REACT_APP_BACKEND_URL","AdminMonitor","allUsers","setAllUsers","currentPage","setCurrentPage","totalPages","setTotalPages","itemsPerPage","handlePageChange","event","value","nextPage","prevPage","fetchUsers","pageNumber","response","get","concat","results","total_page","data","error","console","children","sx","display","flexDirection","alignItems","justifyContent","paddingLeft","paddingTop","component","minWidth","align","map","user","index","loginTime","Date","formattedLoginTime","toLocaleDateString","toLocaleTimeString","border","scope","username","version","os","browser","platform","isMobile","isDesktop","isBot","height","count","page","onChange","variant","shape"],"sources":["/media/arafath/New Volume/Final Year Project/inventory-frontend/src/component/admin/AdminMonitor.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport Box from \"@mui/material/Box\";\nimport { Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport Pagination from \"@mui/material/Pagination\";\nconst baseURL = process.env.REACT_APP_BACKEND_URL;\n\nconst AdminMonitor = () => {\n  const[allUsers, setAllUsers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const itemsPerPage = 10;\n  const handlePageChange = (event, value) => {\n    setCurrentPage(value);\n  };\n\n  const nextPage = () => {\n    setCurrentPage(currentPage + 1);\n  };\n\n  const prevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers(currentPage, itemsPerPage);\n  }, [currentPage]);\n\n  const fetchUsers = async (pageNumber, itemsPerPage) => {\n    try {\n      const response = await axios.get(\n        `${baseURL}/admin/monitor?page=${pageNumber}&limit=${itemsPerPage}`\n      );\n\n      const { results, total_page } = response.data.data;\n\n      setAllUsers(results);\n      setTotalPages(total_page);\n    } catch (error) {\n      console.error(\"Error fetching Receipt:\", error);\n    }\n  };\n\n  return (\n    <>\n      <Box\n        sx={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n\n          paddingLeft: \"10px\", // Adjust as needed\n        }}\n      >\n        <h1>Access Details</h1>\n      </Box>\n\n      {/* Table start */}\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        sx={{ paddingTop: \"20px\" }}\n      >\n        <TableContainer component={Paper}>\n          <Table\n            sx={{\n              \"@media (min-width: 600px)\": {\n                minWidth: \"600px\",\n              },\n              \"@media (min-width: 800px)\": {\n                minWidth: \"800px\",\n              },\n              \"@media (min-width: 1200px)\": {\n                minWidth: \"1200px\",\n              },\n              // Add more media queries as needed\n            }}\n            aria-label=\"simple table\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell>SLNo</TableCell>\n                <TableCell align=\"right\">User</TableCell>\n                <TableCell align=\"right\">Version</TableCell>\n                <TableCell align=\"right\">OS</TableCell>\n                <TableCell align=\"right\">Browser</TableCell>\n                <TableCell align=\"right\">Platform</TableCell>\n                <TableCell align=\"right\">Mobile</TableCell>\n                <TableCell align=\"right\">Desktop</TableCell>\n                <TableCell align=\"right\">Bot</TableCell>\n                <TableCell align=\"right\">LoginTime</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n  {allUsers &&\n    allUsers.map((user, index) => {\n      let loginTime = new Date(user.loginTime);\n      let formattedLoginTime = `${loginTime.toLocaleDateString()} ${loginTime.toLocaleTimeString()}`;\n\n      return (\n        <TableRow\n          key={index} // Make sure to include a unique key for each row\n          sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n        >\n          <TableCell component=\"th\" scope=\"row\">\n            {index + 1}\n          </TableCell>\n          <TableCell align=\"right\">{user.username}</TableCell>\n          <TableCell align=\"right\">{user.version}</TableCell>\n          <TableCell align=\"right\">{user.os}</TableCell>\n          <TableCell align=\"right\">{user.browser}</TableCell>\n          <TableCell align=\"right\">{user.platform}</TableCell>\n          <TableCell align=\"right\">{user.isMobile ? 'Yes' : 'No'}</TableCell>\n          <TableCell align=\"right\">{user.isDesktop ? 'Yes' : 'No'}</TableCell>\n          <TableCell align=\"right\">{user.isBot}</TableCell>\n          <TableCell align=\"right\">{formattedLoginTime}</TableCell>\n        </TableRow>\n      );\n    })}\n</TableBody>\n\n          </Table>\n        </TableContainer>\n     \n      </Box>\n      {/* pagination */}\n\n    \n    \n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"20vh\"\n      >\n        <Pagination\n          count={totalPages}\n          page={currentPage}\n          onChange={handlePageChange}\n          variant=\"outlined\"\n          shape=\"rounded\"\n        />\n      </Box>\n    </>\n  );\n};\n\nexport default AdminMonitor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}