{"ast":null,"code":"import React,{useEffect,useState}from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import Link from'@mui/material/Link';import{Grid,Alert}from'@mui/material';import Box from'@mui/material/Box';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import StorageIcon from'@mui/icons-material/Storage';import{NavLink,useNavigate}from'react-router-dom';import{useLoginUserMutation}from'../../services/userAuthApi';import{storeToken}from'../../services/LocalStorageService';import{useSendPasswordResetEmailMutation}from'../../services/userAuthApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const defaultTheme=createTheme();const ResetPassword=()=>{const[formData,setFormData]=useState({email:''});const[error,setError]=useState({status:false,msg:'',type:''});const navigate=useNavigate();const[sendPasswordResetEmail,{isLoading}]=useSendPasswordResetEmailMutation();const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async event=>{event.preventDefault();const{email}=formData;let newError={status:false,msg:'',type:''};if(!email){newError={status:true,msg:'Email  Required',type:'error'};}else{const actualData={email:email};// console.log(actualData);\nconst res=await sendPasswordResetEmail(actualData);console.log(res);if(res.data.httpStatus===202){storeToken(res.data.data);navigate('/');}else{newError={status:true,msg:res.data.message,type:'error'};}}setError(newError);};return/*#__PURE__*/_jsx(ThemeProvider,{theme:defaultTheme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(StorageIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"SuperShop -Reset Password\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",value:formData.email,onChange:handleInputChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Reset\"}),error.status?/*#__PURE__*/_jsx(Alert,{severity:error.type,sx:{mt:3},children:error.msg}):'']})]})]})});};export default ResetPassword;","map":{"version":3,"names":["React","useEffect","useState","Avatar","Button","CssBaseline","TextField","Link","Grid","Alert","Box","Typography","Container","createTheme","ThemeProvider","StorageIcon","NavLink","useNavigate","useLoginUserMutation","storeToken","useSendPasswordResetEmailMutation","jsx","_jsx","jsxs","_jsxs","defaultTheme","ResetPassword","formData","setFormData","email","error","setError","status","msg","type","navigate","sendPasswordResetEmail","isLoading","handleInputChange","e","name","value","target","handleSubmit","event","preventDefault","newError","actualData","res","console","log","data","httpStatus","message","theme","children","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","variant","onSubmit","noValidate","mt","margin","required","fullWidth","id","label","autoComplete","onChange","mb","severity"],"sources":["/media/arafath/New Volume/Final Year Project/inventory-frontend/src/component/signup/ResetPassword.js"],"sourcesContent":["import  React,{ useEffect, useState }  from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\n\nimport Link from '@mui/material/Link';\nimport{ Grid,Alert }from '@mui/material';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { useLoginUserMutation } from '../../services/userAuthApi';\nimport { storeToken } from '../../services/LocalStorageService';\nimport { useSendPasswordResetEmailMutation } from '../../services/userAuthApi';\nconst defaultTheme = createTheme();\n\nconst ResetPassword = () => {\n  const [formData, setFormData] = useState({\n   \n    email: '',\n  });\n\n  const [error, setError] = useState({\n    status: false,\n    msg: '',\n    type: '',\n  });\n\n  const navigate = useNavigate();\n  const [sendPasswordResetEmail ,{isLoading}] = useSendPasswordResetEmailMutation();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const {  email} = formData;\n    let newError = { status: false, msg: '', type: '' };\n\n    if ( !email  ) {\n      newError = { status: true, msg: 'Email  Required', type: 'error' };\n    }  else {\n      const actualData = {\n        \n        email: email,\n      \n      };\n\n      // console.log(actualData);\n      const res = await sendPasswordResetEmail(actualData);\n      console.log(res);\n      if (res.data.httpStatus === 202) {\n        storeToken(res.data.data)\n        navigate('/');\n      } else {\n        newError = { status: true, msg: res.data.message, type: 'error' };\n      }\n    }\n\n    setError(newError);\n  };\n\n  return (\n    <ThemeProvider theme={defaultTheme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <StorageIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            SuperShop -Reset Password \n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n            />\n\n            \n           \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Reset\n            </Button>\n        \n            {error.status ? <Alert severity={error.type} sx={{ mt: 3 }}>{error.msg}</Alert> : ''}\n          </Box>\n        </Box>\n        \n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default  ResetPassword "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}