{"ast":null,"code":"import React,{useState}from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import Link from'@mui/material/Link';import{Grid,Alert}from'@mui/material';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import{useNavigate}from'react-router-dom';import{useChangeAdminPasswordMutation}from'../../services/userAuthApi';import{getTokenAdmin}from'../../services/LocalStorageService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const defaultTheme=createTheme();const ChnagePassword=()=>{const[formData,setFormData]=useState({password:'',confirmPassword:''});const[error,setError]=useState({status:false,msg:'',type:''});const token=getTokenAdmin('admin');const navigate=useNavigate();const[changeAdminPassword,{isLoading}]=useChangeAdminPasswordMutation();const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async event=>{event.preventDefault();const{password,confirmPassword}=formData;let newError={status:false,msg:'',type:''};if(!password||!confirmPassword){newError={status:true,msg:'All Fields are Required',type:'error'};}else if(password!==confirmPassword){newError={status:true,msg:\"Password and Confirm Password Don't Match\",type:'error'};}else{const actualData={password:password,password_confirmation:confirmPassword};// console.log(actualData);\nconst res=await changeAdminPassword({actualData,token});console.log(res);if(res.data.httpStatus===202){navigate('/details');}else{newError={status:true,msg:res.data.message,type:'error'};}}setError(newError);};return/*#__PURE__*/_jsx(ThemeProvider,{theme:defaultTheme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\" New Password\",type:\"password\",id:\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleInputChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"confirmPassword\",label:\"Confirm Password\",type:\"password\",id:\"confirmPassword\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleInputChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Submit\"})]}),error.status?/*#__PURE__*/_jsx(Alert,{severity:error.type,children:error.msg}):'']})]})});};export default ChnagePassword;","map":{"version":3,"names":["React","useState","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Alert","Box","LockOutlinedIcon","Typography","Container","createTheme","ThemeProvider","useNavigate","useChangeAdminPasswordMutation","getTokenAdmin","jsx","_jsx","jsxs","_jsxs","defaultTheme","ChnagePassword","formData","setFormData","password","confirmPassword","error","setError","status","msg","type","token","navigate","changeAdminPassword","isLoading","handleInputChange","e","name","value","target","handleSubmit","event","preventDefault","newError","actualData","password_confirmation","res","console","log","data","httpStatus","message","theme","children","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","variant","onSubmit","margin","required","fullWidth","label","id","autoComplete","onChange","mt","mb","severity"],"sources":["/media/arafath/New Volume/Final Year Project/inventory-frontend/src/component/admin/ChangePassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Link from '@mui/material/Link';\nimport {Grid, Alert  }from '@mui/material';\nimport Box from '@mui/material/Box';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { useNavigate } from 'react-router-dom';\nimport { useChangeAdminPasswordMutation } from '../../services/userAuthApi';\nimport { getTokenAdmin } from '../../services/LocalStorageService';\nconst defaultTheme = createTheme();\n\nconst ChnagePassword = () => {\n    const [formData, setFormData] = useState({\n        password: '',\n        confirmPassword: '',\n      });\n    \n      const [error, setError] = useState({\n        status: false,\n        msg: '',\n        type: '',\n      });\n      const token=getTokenAdmin('admin')\n      const navigate = useNavigate();\n      const [ changeAdminPassword,{isLoading}] = useChangeAdminPasswordMutation();\n    \n      const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n      };\n    \n      const handleSubmit = async (event) => {\n        event.preventDefault();\n    \n        const { password, confirmPassword } = formData;\n        let newError = { status: false, msg: '', type: '' };\n    \n        if ( !password || !confirmPassword) {\n          newError = { status: true, msg: 'All Fields are Required', type: 'error' };\n        } else if (password !== confirmPassword) {\n          newError = { status: true, msg: \"Password and Confirm Password Don't Match\", type: 'error' };\n        } else {\n          const actualData = {\n            \n            password: password,\n            password_confirmation:confirmPassword\n          };\n    \n          // console.log(actualData);\n          const res = await changeAdminPassword({actualData,token});\n          console.log(res);\n          if (res.data.httpStatus === 202) {\n            \n            navigate('/details');\n          } else {\n            newError = { status: true, msg: res.data.message, type: 'error' };\n          }\n        }\n    \n        setError(newError);\n      };\n\n  return (\n    <ThemeProvider theme={defaultTheme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Change Password\n          </Typography>\n          <form onSubmit={handleSubmit}>\n\n\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\" New Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"new-password\"\n              value={formData.password}\n              onChange={handleInputChange}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              type=\"password\"\n              id=\"confirmPassword\"\n              autoComplete=\"new-password\"\n              value={formData.confirmPassword}\n              onChange={handleInputChange}\n            />\n  \n            <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n              Submit\n            </Button>\n          \n          </form>\n          {error.status ? <Alert severity={error.type}>{error.msg}</Alert> : ''}\n        </Box>\n      </Container>\n    </ThemeProvider>\n  );\n};\n\nexport default ChnagePassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}